---
layout: post
title: "SaaS против open-source: когда имеет смысл городить свой движок для алготрейдинга"
description: "Детальный разбор стоимости владения, скрытых издержек и точки безубыточности. Когда TSLab дешевле собственного стека, а когда — наоборот."
date: 2026-02-17
image: /assets/images/blog/saas_vs_opensource.png
tags: [SaaS, open-source, TCO, инфраструктура, выбор платформы]
---

"Собирать свой стек или платить за готовое SaaS?"

Год назад я перешёл с TSLab (60 тыс/год) на собственный стек (Python + Backtrader + Docker).

Думал, сэкономлю. Оказалось — не всё так просто.

Последний год я считал **реальную** стоимость владения (TCO) обоих подходов. Учитывал не только деньги, но и время, риски, скрытые издержки.

Вот что я узнал.

## Иллюзия бесплатности open-source

**Миф:** Open-source бесплатен. Python, Backtrader, Docker — всё free.

**Реальность:** Софт бесплатен. Время, инфраструктура, поддержка — нет.

### **Моя история**

**2024 год:**
- TSLab: 60 тыс/год
- MOEX AlgoPack: 55 тыс/год
- VPS: 12 тыс/год
- **Итого: 127 тыс/год**

Я подумал: "Зачем платить? Соберу на open-source. Сэкономлю 115 тыс/год."

**2025 год (реальность):**

[Собрал стек на open-source]({{site.baseurl}}/2026/02/10/open-source-stek-dlya-moex.html):
- Python + Backtrader + TimescaleDB + Docker
- VPS (4 ядра, 8 ГБ): 24 тыс/год (нужно больше ресурсов)
- Резервный VPS (для failover): 12 тыс/год
- Backup (S3-хранилище): 6 тыс/год
- Мониторинг (Grafana Cloud): 12 тыс/год
- **Софт: 0 рублей**
- **Инфраструктура: 54 тыс/год**

**Время:**
- Первоначальная настройка: 40 часов (неделя по вечерам)
- Поддержка: 10 часов/месяц (обновления, исправления, мониторинг)

Если считать моё время по ставке разработчика (3000 руб/час):
- Первоначальная настройка: 120 тыс
- Поддержка: 30 тыс/месяц × 12 = 360 тыс/год

**Итого (первый год):**
- Инфраструктура: 54 тыс
- Время: 120 тыс (setup) + 360 тыс (поддержка) = 480 тыс
- **Всего: 534 тыс**

**TSLab + AlgoPack:** 127 тыс/год.

**Разница:** Я потерял **407 тысяч** в первый год.

## TCO: Total Cost of Ownership

[Совокупная стоимость владения (TCO)](https://www.xelent.ru/blog/chto-takoe-sovokupnaya-stoimost-vladeniya-tco/) — это не только деньги за лицензию. Это:

1. **CapEx** (Capital Expenditures) — капитальные затраты
2. **OpEx** (Operational Expenditures) — операционные расходы
3. **Скрытые издержки**

### **TCO для SaaS (TSLab + MOEX AlgoPack)**

| Статья расходов | Стоимость (руб/год) |
|----------------|-------------------|
| TSLab лицензия | 60 000 |
| MOEX AlgoPack | 55 000 |
| VPS (для робота) | 12 000 |
| Обучение (курсы TSLab) | 20 000 (одноразово) |
| Поддержка | Включена в лицензию |
| Обновления | Включены в лицензию |
| Время настройки | 5-10 часов (изучение платформы) |
| Время поддержки | 1-2 часа/месяц (обновление стратегий) |
| **Итого (первый год)** | **147 000** |
| **Итого (второй+ год)** | **127 000** |

### **TCO для open-source (Python + Backtrader + Docker)**

| Статья расходов | Стоимость (руб/год) |
|----------------|-------------------|
| Софт (Python, Backtrader) | 0 |
| VPS (production) | 24 000 |
| VPS (backup/failover) | 12 000 |
| S3 backup | 6 000 |
| Grafana Cloud (мониторинг) | 12 000 |
| Обучение (Python, DevOps) | 50 000 (курсы, книги) |
| Первоначальная настройка | 120 000 (40 часов × 3000 руб/час) |
| Поддержка и обновления | 360 000 (10 часов/мес × 12 × 3000) |
| Мигра ция при проблемах | 60 000 (риск, амортизация) |
| **Итого (первый год)** | **644 000** |
| **Итого (второй год)** | **474 000** (без setup, без обучения) |

**Вывод:** Open-source в **4.4 раза** дороже в первый год.

## Скрытые издержки open-source

### **1. Время на настройку**

**TSLab:** Установил → открыл Designer → собрал стратегию из блоков. **5 часов**.

**Open-source:**
- Изучение Backtrader: 10 часов
- Настройка TimescaleDB: 5 часов
- Написание скрипта сбора данных: 5 часов
- Настройка Docker: 10 часов
- Настройка Grafana + Prometheus: 5 часов
- Написание первой стратегии: 5 часов

**Итого: 40 часов.**

**Разница: 35 часов × 3000 руб/час = 105 тысяч.**

### **2. Время на поддержку**

**TSLab:** Обновления автоматические. Если сломалось — пишете в поддержку. **1 час/месяц**.

**Open-source:**
- Обновление библиотек (pip upgrade): 1 час/месяц
- Проверка логов, мониторинг: 2 часа/месяц
- Исправление багов: 3 часа/месяц (в среднем)
- Обновление Docker-образов: 1 час/месяц
- Бэкапы, тестирование failover: 2 часа/месяц
- Чтение документации, issue на GitHub: 1 час/месяц

**Итого: 10 часов/месяц.**

**Разница: 9 часов × 3000 руб/час × 12 = 324 тысячи/год.**

### **3. Opportunity cost (упущенная выгода)**

Пока вы настраиваете Docker, [кто-то в TSLab уже тестирует стратегию]({{site.baseurl}}/2026/01/06/mozhno-li-nachat-put-s-konstruktorov.html).

**Пример:**

Вы тратите неделю (40 часов) на настройку стека.

За это время вы могли бы:
- Разработать 5 новых стратегий
- Оптимизировать существующие
- Протестировать идеи

Если одна стратегия приносит +5% годовых на капитал 1 млн рублей — это **50 тысяч упущенной прибыли**.

### **4. Вендор lock-in (привязка к поставщику)**

**SaaS (TSLab):**
- Ваши стратегии написаны на C# для TSLab API
- Переход на другую платформу = полная переписка

**Open-source:**
- Ваши стратегии на Python (универсальный язык)
- Переход с Backtrader на VectorBT/LEAN — недели, не месяцы

**Но есть нюанс:**

[Vendor lock-in в SaaS](https://habr.com/ru/articles/965204/) — это риск. Если TSLab поднимет цены на 100% (с 60 до 120 тыс), вы привязаны.

В open-source vendor lock-in меньше, но есть **технологический долг**. Если вы собрали стек на библиотеках, которые перестали поддерживаться — придётся переписывать.

**Пример:** Backtrader последний коммит на GitHub — 2021 год. Активное развитие остановилось. Если Python 4.0 сломает совместимость — вы в ловушке.

### **5. Риски безопасности и compliance**

**SaaS:** Безопасность — забота поставщика. TSLab обновляет зависимости, чинит уязвимости.

**Open-source:** Вы отвечаете за всё.

**Реальные издержки:**
- Сканеры уязвимостей (Trivy, Snyk): 5 тыс/месяц
- Резервное копирование с шифрованием: 3 тыс/месяц
- Disaster recovery тесты: 20 тыс/квартал

**Итого: +104 тысячи/год.**

## Когда SaaS дешевле

### **Сценарий 1: Вы не программист**

Если вы трейдер без опыта программирования:
- TSLab Designer — визуальный конструктор. Собрали стратегию за вечер.
- Open-source — нужно учить Python, Docker, SQL. **200+ часов** обучения.

**Время обучения:**
- Python (базовый уровень): 50 часов
- Backtrader: 20 часов
- Docker: 20 часов
- TimescaleDB: 10 часов
- DevOps (Grafana, мониторинг): 20 часов
- Debugging, troubleshooting: 80 часов (опыт нарабатывается)

**Итого: 200 часов × 3000 руб/час = 600 тысяч.**

**Или TSLab за 60 тысяч.**

**Выбор очевиден.**

### **Сценарий 2: Стратегия простая (индикаторная)**

Если ваша стратегия — SMA-кросс, RSI-фильтр, Bollinger Bands:
- TSLab/MT5/NinjaTrader справятся из коробки.
- Open-source — избыточная сложность.

**Правило:** Не используйте танк, чтобы убить муху.

### **Сценарий 3: Вы тестируете идею**

Вы не знаете, сработает ли стратегия. Нужен быстрый прототип.

**TSLab:** 5 часов → бэктест → результат.

**Open-source:** 40 часов настройка → бэктест → результат.

**Если стратегия не сработала:** Вы потеряли 5 часов (TSLab) против 40 часов (open-source).

**Opportunity cost:** 35 часов × 3000 = 105 тысяч.

### **Сценарий 4: Капитал <5 млн рублей**

Если ваш торговый капитал — 500 тысяч:
- TSLab: 60 тыс/год = **12% от капитала**
- Open-source: 644 тыс/год (с учётом времени) = **129% от капитала**

Платформа дороже капитала. Абсурд.

**Вывод:** При капитале <5 млн — SaaS выгоднее.

## Когда open-source дешевле

### **Сценарий 1: Вы программист**

Если вы уже знаете Python, Docker, SQL:
- Время настройки: 20 часов (половина, т.к. не нужно учиться)
- Поддержка: 5 часов/месяц (вы быстрее чините баги)

**TCO open-source (для программиста):**
- Инфраструктура: 54 тыс/год
- Время настройки: 20 часов × 3000 = 60 тыс (первый год)
- Поддержка: 5 часов/мес × 12 × 3000 = 180 тыс/год

**Итого (первый год): 294 тысячи.**

**Итого (второй год): 234 тысячи** (без setup).

**TSLab: 127 тысяч/год.**

Всё ещё дороже. **Но разрыв сократился вдвое.**

**Третий год:**
- Open-source: 234 тысячи
- TSLab: 127 тысяч

**К концу третьего года разница:** (294 + 234 + 234) - (147 + 127 + 127) = **762 - 401 = 361 тысяча**.

Open-source всё ещё дороже.

**Но:** Если вы тратите время на поддержку во время работы (не личное время), то стоимость = только инфраструктура = **54 тыс/год**.

Тогда open-source выгоднее уже в **первый год**.

### **Сценарий 2: Стратегия сложная (ML, арбитраж)**

[TSLab не справляется с ML-стратегиями]({{site.baseurl}}/2025/12/16/granitsy-no-code-kogda-konstruktory-ne-spravlyayutsya.html). Нужен Python + TensorFlow.

**Пример:**

Вы используете LSTM-модель для предсказания цены. Нужна интеграция с:
- Python (TensorFlow, PyTorch)
- Внешние данные (новости, альтернативные данные)
- Кастомные индикаторы

TSLab это не поддерживает. Вы **вынуждены** использовать open-source.

**TCO в данном случае не важен. Альтернативы нет.**

### **Сценарий 3: Капитал >10 млн рублей**

Если ваш капитал — 10 млн:
- TSLab: 60 тыс/год = **0.6% от капитала**
- Open-source: 234 тыс/год = **2.3% от капитала**

Но если open-source даёт вам:
- Гибкость (ML, арбитраж)
- Скорость (HFT через прямое API)
- Независимость (нет vendor lock-in)

И это приносит дополнительно **+2% годовых** (200 тысяч на 10 млн), то open-source окупается.

**Формула:**

Open-source выгоднее, если:

```
(Дополнительная доходность от гибкости) × Капитал > TCO(open-source) - TCO(SaaS)
```

Пример:
```
(2% × 10 млн) - (234 тыс - 127 тыс) > 0
200 тыс - 107 тыс = 93 тыс прибыли
```

**Вывод:** При капитале >10 млн open-source может быть выгоднее, **если** приносит дополнительную доходность.

### **Сценарий 4: Масштаб (много стратегий, много инструментов)**

TSLab лицензия — на 1 пользователя.

Если у вас:
- 5 трейдеров
- 10 стратегий
- 100+ инструментов

**TSLab:** 60 тыс/год × 5 = **300 тысяч/год**.

**Open-source:** 234 тыс/год (стоимость не зависит от количества пользователей).

**Экономия: 66 тысяч/год.**

[При масштабе open-source выигрывает](https://tproger.ru/articles/chto-luchwe--sobstvennaya-infrastruktura-ili-publichnoe-oblako).

### **Сценарий 5: HFT (High-Frequency Trading)**

[Для HFT нужна сверхнизкая latency](https://habr.com/ru/articles/688022/). TSLab даёт ~10-30 мс.

Open-source с прямым WebSocket/FIX API: **1-5 мс**.

Если вы зарабатываете на спреде 0.01% × 1000 сделок/день:
- Капитал: 10 млн
- Прибыль: 0.01% × 10 млн × 1000 сделок/год = **1 млн рублей/год**

**TCO open-source:** 234 тыс/год.

**ROI:** (1 000 000 - 234 000) / 234 000 = **327%**.

Open-source окупается многократно.

## Сравнение платформ: SaaS vs open-source

### **SaaS для российского рынка**

| Платформа | Стоимость (руб/год) | Плюсы | Минусы |
|-----------|-------------------|-------|--------|
| TSLab | 60 000 | Визуальный конструктор, бэктестер, поддержка | Vendor lock-in, нет ML |
| NinjaTrader | ~150 000 | Мощный бэктестер, HFT | Дорого, нет MOEX из коробки |
| MetaTrader 5 | 0 | Бесплатно, простой | Ограниченная функциональность |
| TradingView | 15-60 тыс/год | Графики, индикаторы, Pine Script | Нет полноценного бэктестинга |

### **Open-source фреймворки**

| Фреймворк | Язык | Плюсы | Минусы |
|-----------|------|-------|--------|
| Backtrader | Python | Простой, гибкий | Медленный бэктест, не поддерживается |
| VectorBT PRO | Python | Очень быстрый (NumPy) | Платный ($50/мес) |
| LEAN | C#/Python | Профессиональный, активное развитие | Сложная настройка |
| StockSharp | C# | 90+ бирж мира, GUI Designer | Высокая кривая обучения |

[Подробнее про фреймворки]({{site.baseurl}}/2026/02/10/open-source-stek-dlya-moex.html).

### **Облачные SaaS (международные)**

| Платформа | Стоимость | Плюсы | Минусы |
|-----------|----------|-------|--------|
| [QuantConnect](https://www.quantconnect.com/pricing/) | $20-80/мес | Облако, 400TB данных, 20+ брокеров | Нет MOEX |
| [Alpaca](https://alpaca.markets/) | Бесплатно | Комиссия 0%, API бесплатно | Только US рынок |
| [TradeStation](https://www.tradestation.com/) | Бесплатно (при депозите $10k) | Профессиональные данные, API | Минимальный депозит |

**Проблема:** QuantConnect, Alpaca, TradeStation **не поддерживают MOEX**. Для российского рынка — только TSLab/MT5 или open-source.

## Реальный кейс: моя миграция

### **До миграции (2024)**

- TSLab: 60 тыс/год
- MOEX AlgoPack: 55 тыс/год
- VPS: 12 тыс/год
- **Итого: 127 тыс/год**

**Стратегии:** 3 простые индикаторные (SMA-кросс, RSI-фильтр, Bollinger Bands).

**Капитал:** 2 млн рублей.

**Проблемы TSLab:**
- Нет ML (хотел попробовать LSTM)
- Нет интеграции с Telegram (для алертов)
- Vendor lock-in (если TSLab закроется — я в ловушке)

### **После миграции (2025)**

[Собрал стек на open-source]({{site.baseurl}}/2026/02/10/open-source-stek-dlya-moex.html):
- Python + Backtrader + TimescaleDB + Docker
- Инфраструктура: 54 тыс/год
- Время (первый год): 40 часов setup + 120 часов поддержка

**Стратегии:** 5 (добавил 2 ML-стратегии на LSTM + интеграцию с новостями).

**Результаты:**
- Доходность: +18% годовых (против +12% на TSLab)
- Дополнительная прибыль: 6% × 2 млн = **120 тысяч**

**TCO (первый год):**
- Инфраструктура: 54 тыс
- Время: 160 часов × 3000 = 480 тыс
- **Итого: 534 тыс**

**Убыток:** 534 тыс - 127 тыс = **407 тысяч**.

**Но:** Дополнительная прибыль от ML-стратегий: +120 тысяч.

**Чистый убыток:** 407 тыс - 120 тыс = **287 тысяч**.

### **Второй год (2026, прогноз)**

- Инфраструктура: 54 тыс
- Поддержка: 10 часов/мес × 12 × 3000 = 360 тыс
- **Итого: 414 тыс**

**TSLab:** 127 тыс.

**Разница:** 414 - 127 = **287 тысяч убытка**.

**Дополнительная прибыль (ML):** +6% × 2 млн = **120 тысяч**.

**Чистый убыток:** 287 - 120 = **167 тысяч**.

### **Точка безубыточности**

Если считать моё время как **нерабочее** (хобби, вечера):
- TCO open-source: только инфраструктура = **54 тыс/год**
- TSLab: 127 тыс/год

**Экономия:** 127 - 54 = **73 тысячи/год**.

**Вывод:** Если время не считать — open-source выгоднее **сразу**.

Если считать время как рабочее — open-source окупится **через 5-7 лет** (при условии, что доп. прибыль от ML сохраняется).

## Чек-лист: SaaS или open-source?

Ответьте на вопросы:

### **1. Вы программист?**

- **Да:** Open-source (вы справитесь сами)
- **Нет:** SaaS (TSLab, MT5)

### **2. Стратегия простая (индикаторная)?**

- **Да:** SaaS (избыточность open-source)
- **Нет (ML, арбитраж):** Open-source (SaaS не справится)

### **3. Капитал?**

- **<5 млн:** SaaS (TCO open-source слишком высок)
- **5-10 млн:** Зависит от стратегии
- **>10 млн:** Open-source (масштаб окупает TCO)

### **4. Время — деньги?**

- **Да (вы работаете):** SaaS (экономия времени)
- **Нет (хобби, вечера):** Open-source (время не считается)

### **5. Vendor lock-in — критичен?**

- **Да (боитесь привязки):** Open-source
- **Нет:** SaaS

### **6. HFT?**

- **Да:** Open-source (низкая latency критична)
- **Нет:** SaaS

### **7. Количество пользователей?**

- **1 человек:** SaaS
- **5+ человек:** Open-source (лицензии дорожают)

## Гибридный подход: лучшее из двух миров

Можно совместить SaaS и open-source.

### **Вариант 1: TSLab для прототипов, open-source для production**

1. Быстрый прототип в TSLab (5 часов)
2. Если стратегия работает → портируете на Python/Backtrader
3. Production на open-source

**Плюсы:**
- Быстрая валидация идей (TSLab)
- Гибкость и контроль (open-source)

**Минусы:**
- Платите за TSLab + поддерживаете open-source
- Двойная работа (прототип + портирование)

### **Вариант 2: Open-source локально, SaaS для live**

1. Разработка и бэктестинг на локальном open-source
2. Деплой на QuantConnect/Alpaca (если поддерживают ваш рынок)

**Плюсы:**
- Гибкость разработки (open-source)
- Надёжность production (SaaS)

**Минусы:**
- QuantConnect не поддерживает MOEX
- Vendor lock-in на production

### **Вариант 3: Open-source + управляемый Kubernetes**

1. Разработка на Python + Backtrader
2. Деплой на Yandex Cloud Managed K8s / AWS EKS

**Плюсы:**
- Полный контроль (open-source)
- Меньше DevOps (managed K8s)

**Минусы:**
- Managed K8s дороже self-hosted (в 2-3 раза)

## Моё мнение

**SaaS (TSLab) — если:**
- Вы не программист
- Стратегия простая
- Капитал <5 млн
- Время дороже денег

**Open-source — если:**
- Вы программист (или готовы учиться)
- Стратегия сложная (ML, арбитраж, HFT)
- Капитал >10 млн
- Вам нужна полная независимость

**Гибридный подход — если:**
- Вы хотите лучшее из двух миров
- Готовы платить за удобство + контролировать ключевые части

**Моя личная рекомендация:**

Если вы новичок — **начните с SaaS** ([TSLab, MT5, StockSharp Designer]({{site.baseurl}}/2026/01/06/mozhno-li-nachat-put-s-konstruktorov.html)). Проверьте, нравится ли вам алготрейдинг.

Через 6-12 месяцев, когда упрётесь в границы платформы, [переходите на open-source]({{site.baseurl}}/2025/12/30/evolutsiya-treydera-ot-konstruktorov-k-kodu.html).

Не начинайте с open-source, если не уверены, что алготрейдинг — ваше.

**TCO считайте честно.** Учитывайте время. Если время — деньги, SaaS почти всегда выгоднее.

---

**Полезные ссылки:**

Калькуляторы TCO:
- [Xelent: Что такое TCO](https://www.xelent.ru/blog/chto-takoe-sovokupnaya-stoimost-vladeniya-tco/)
- [TAdviser: TCO](https://www.tadviser.ru/index.php/Статья:TCO_(Total_cost_of_ownership)_-_совокупная_стоимость_владения)

SaaS платформы:
- [TSLab](https://www.tslab.pro/)
- [QuantConnect Pricing](https://www.quantconnect.com/pricing/)
- [Alpaca Trading](https://alpaca.markets/)
- [TradeStation](https://www.tradestation.com/)
- [TradingView](https://ru.tradingview.com/)

Open-source фреймворки:
- [Backtrader](https://www.backtrader.com/)
- [VectorBT PRO](https://vectorbt.pro/)
- [LEAN (QuantConnect)](https://github.com/QuantConnect/Lean)
- [StockSharp](https://github.com/StockSharp/StockSharp)

Статьи и исследования:
- [VC.ru: TradingView обзор](https://vc.ru/money/339369-tradingview-chem-horosha-eta-platforma-i-kak-torgovat-na-nei-s-pomoshyu-brokera)
- [VC.ru: TSLab алготрейдинг без кода](https://vc.ru/invest/1998650-algotreyding-bez-koda-sozdanie-bota-v-tslab)
- [Habr: Vendor lock-in](https://habr.com/ru/articles/965204/)
- [TProger: Облако vs своя инфраструктура](https://tproger.ru/articles/chto-luchwe--sobstvennaya-infrastruktura-ili-publichnoe-oblako)

DevOps и скрытые издержки:
- [Latenode: N8N Self-Hosted True Cost](https://latenode.com/blog/low-code-no-code-platforms/self-hosted-automation-platforms/n8n-free-self-hosted-version-2025-complete-analysis-true-cost-reality-check)
- [Azure DevOps Pricing](https://azure-finops-essentials.mindbyte.nl/p/azure-devops-pricing-cost-optimization)
