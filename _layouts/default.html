<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="yandex-verification" content="3225d9f55371d234" />
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }} - open source –∞–ª–≥–æ—Ç—Ä–µ–π–¥–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</title>
    <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <link rel="canonical" href="{{ site.url }}{{ page.url | replace:'index.html','' }}">
    <link rel="shortcut icon" type="image/x-icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">

    {% seo %}
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">OS</div>
                <h1>{{ site.title }}</h1>
            </div>
            
            <div class="nav-container">
                <nav>
                    <ul class="nav-menu" id="navMenu">
                        <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="https://t.me/osengine" target="_blank">–ß–∞—Ç</a></li>
                        <li><a href="/blog/">–ë–ª–æ–≥</a></li>
                        <li><a href="/faq/">–ì–∞–π–¥</a></li>
                        <li><a href="/–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ-—Ç–æ—Ä–≥–æ–≤—ã–µ-—Ä–æ–±–æ—Ç—ã/">–¢–æ—Ä–≥–æ–≤—ã–µ —Ä–æ–±–æ—Ç—ã</a></li>
                        <li><a href="/—Å–∫–∞—á–∞—Ç—å-os-engine/">–°–∫–∞—á–∞—Ç—å</a></li>
                    </ul>
                </nav>
                
                <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <span id="themeIcon">üåô</span>
                </button>
                
                <button class="burger-btn" id="burgerBtn" aria-label="–ú–µ–Ω—é">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        <p>–ü—Ä–∏—Å—ã–ª–∞–π—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞–º <a href="https://t.me/osengine_official" target="_blank">–≤ —Ç–µ–ª–µ–≥—Ä–∞–º</a></p>
        <p style="margin-top: 0.5rem; font-size: 0.875rem;">¬© 2025 OS Engine. Open Source –∞–ª–≥–æ—Ç—Ä–µ–π–¥–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.</p>
    </footer>

    <script>
        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const body = document.body;

        // Check for saved theme preference or default to 'light'
        const currentTheme = localStorage.getItem('theme') || 'light';
        body.setAttribute('data-theme', currentTheme);
        updateThemeIcon(currentTheme);

        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
            themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        // Mobile Menu Toggle
        const burgerBtn = document.getElementById('burgerBtn');
        const navMenu = document.getElementById('navMenu');

        if (burgerBtn && navMenu) {
            burgerBtn.addEventListener('click', () => {
                burgerBtn.classList.toggle('active');
                navMenu.classList.toggle('active');
            });

            // Close mobile menu when clicking on a link
            navMenu.addEventListener('click', (e) => {
                if (e.target.tagName === 'A') {
                    burgerBtn.classList.remove('active');
                    navMenu.classList.remove('active');
                }
            });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add scroll effect to header
        let lastScrollTop = 0;
        const header = document.querySelector('header');

        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                // Scrolling down
                header.style.transform = 'translateY(-100%)';
            } else {
                // Scrolling up
                header.style.transform = 'translateY(0)';
            }
            
            lastScrollTop = scrollTop;
        });

        // Add animation delay to cards
        const cards = document.querySelectorAll('.project-card');
        cards.forEach((card, index) => {
            card.style.animationDelay = `${index * 0.1}s`;
        });

        // Add intersection observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all sections for animations
        document.querySelectorAll('.chat-card, .resource-link, .source-card, .post-item').forEach(el => {
            if (el) {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            }
        });

        // Initialize animations on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Reset animations for elements that should be visible immediately
            document.querySelectorAll('.project-card').forEach((card, index) => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            });
        });
    </script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
       (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
       m[i].l=1*new Date();
       for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
       k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
       (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

       ym(98830374, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
       });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/98830374" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</body>
</html>